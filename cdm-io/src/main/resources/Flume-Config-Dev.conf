## CDM Interceptors
CDMHL7.sources.RAW.interceptors = dataMapper
CDMHL7.sources.RAW.interceptors.dataMapper.type = com.hca.cdm.flume.Hl7FlumeMapperBuilder
CDMHL7.sources.HL7Segments.interceptors = dataMapper
CDMHL7.sources.HL7Segments.interceptors.dataMapper.type = com.hca.cdm.flume.Hl7FlumeMapperBuilder
CDMHL7.sources.Rejects-Audits.interceptors = dataMapper
CDMHL7.sources.Rejects-Audits.interceptors.dataMapper.type = com.hca.cdm.flume.Hl7FlumeMapperBuilder
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.interceptors = dataMapper
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.interceptors.dataMapper.type = com.hca.cdm.flume.Hl7FlumeMapperBuilder

## CDM Flume kafka Sources
CDMHL7.sources = RAW HL7Segments Rejects-Audits CDINLPPATID-SCRIPATIDHISTORY DRResults
# HL7CDMMDM is not active as Topic is not accessible
## CDM  RAW HL7 Topics
CDMHL7.sources.RAW.type = org.apache.flume.source.kafka.KafkaSource
CDMHL7.sources.RAW.kafka.bootstrap.servers = xrdcldbda010001.unix.medcity.net:9092,xrdcldbda010002.unix.medcity.net:9092,xrdcldbda010003.unix.medcity.net:9092
CDMHL7.sources.RAW.kafka.topics=HL7CDMADT,HL7CDMMDM,HL7CDMORU,HL7CDMDFT,HL7CDMORM,HL7CDMIPLORU,HL7CDMPPR,HL7CDMRAS,HL7CDMRDE,HL7CDMSIU,HL7CDMVXU,HL7CDMORMORDERS
CDMHL7.sources.RAW.kafka.consumer.group.id = CDMHL7FlumeConsumerGrp
CDMHL7.sources.RAW.channels = DefaultFileChannel
CDMHL7.sources.RAW.migrateZookeeperOffsets=true
CDMHL7.sources.RAW.kafka.consumer.session.timeout.ms = 30000
CDMHL7.sources.RAW.kafka.consumer.fetch.min.bytes=1024
CDMHL7.sources.RAW.kafka.consumer.fetch.message.max.bytes = 52428800
CDMHL7.sources.RAW.kafka.consumer.auto.offset.reset=earliest


## CDM - HL7 Segments data
CDMHL7.sources.HL7Segments.type = org.apache.flume.source.kafka.KafkaSource
CDMHL7.sources.HL7Segments.kafka.bootstrap.servers = xrdcldbda010001.unix.medcity.net:9092,xrdcldbda010002.unix.medcity.net:9092,xrdcldbda010003.unix.medcity.net:9092
CDMHL7.sources.HL7Segments.kafka.topics = HL7CDMALLSEGMENT
CDMHL7.sources.HL7Segments.kafka.consumer.groupId = CDMHL7FlumeConsumerGrp
CDMHL7.sources.HL7Segments.channels = SegmentsFileChannel
CDMHL7.sources.HL7Segments.migrateZookeeperOffsets=true
CDMHL7.sources.HL7Segments.kafka.consumer.session.timeout.ms = 30000
CDMHL7.sources.HL7Segments.kafka.consumer.fetch.min.bytes=1024
CDMHL7.sources.HL7Segments.kafka.consumer.fetch.message.max.bytes = 52428800
CDMHL7.sources.HL7Segments.kafka.consumer.auto.offset.reset=earliest


## CDM - HL7 all rejects and Audits for processed data
CDMHL7.sources.Rejects-Audits.type = org.apache.flume.source.kafka.KafkaSource
CDMHL7.sources.Rejects-Audits.kafka.bootstrap.servers =xrdcldbda010001.unix.medcity.net:9092,xrdcldbda010002.unix.medcity.net:9092,xrdcldbda010003.unix.medcity.net:9092
CDMHL7.sources.Rejects-Audits.kafka.topics = HL7CDMALLPROCREJECTED,HL7CDMAUDITS,HL7CDMJSON
CDMHL7.sources.Rejects-Audits.kafka.consumer.groupId = CDMHL7FlumeConsumerGrp
CDMHL7.sources.Rejects-Audits.channels = DefaultFileChannel1
CDMHL7.sources.Rejects-Audits.migrateZookeeperOffsets=true
CDMHL7.sources.Rejects-Audits.kafka.consumer.session.timeout.ms = 30000
CDMHL7.sources.Rejects-Audits.kafka.consumer.fetch.min.bytes=1024
CDMHL7.sources.Rejects-Audits.kafka.consumer.fetch.message.max.bytes = 52428800
CDMHL7.sources.Rejects-Audits.kafka.consumer.auto.offset.reset=earliest



## CDM - CDI NLP PATIENT ID DATA Topic
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.type = org.apache.flume.source.kafka.KafkaSource
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.bootstrap.servers=xrdcldbda010001.unix.medcity.net:9092,xrdcldbda010002.unix.medcity.net:9092,xrdcldbda010003.unix.medcity.net:9092
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.topics = HL7CDMPATIDLOAD,HL7CDMSCRIPATIDJSONHIST
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.consumer.groupId = CDMHL7FlumeConsumerGrp
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.channels = CDINLPFileChannel
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.migrateZookeeperOffsets=true
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.consumer.session.timeout.ms = 30000
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.consumer.fetch.min.bytes=1024
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.consumer.fetch.message.max.bytes = 52428800
CDMHL7.sources.CDINLPPATID-SCRIPATIDHISTORY.kafka.consumer.auto.offset.reset=earliest



## CDM - DR Data - Kafka Topic 2 - To Impala table
CDMHL7.sources.DRResults.type = org.apache.flume.source.kafka.KafkaSource
CDMHL7.sources.DRResults.kafka.bootstrap.servers = xrdcldbda010001.unix.medcity.net:9092,xrdcldbda010002.unix.medcity.net:9092,xrdcldbda010003.unix.medcity.net:9092
CDMHL7.sources.DRResults.kafka.topics = HL7CDMDRSYNTHESYSRESULTS
CDMHL7.sources.DRResults.kafka.consumer.groupId = CDMHL7FlumeConsumerGrp
CDMHL7.sources.DRResults.channels = DRResultsFileChannel
CDMHL7.sources.DRResults.migrateZookeeperOffsets=true
CDMHL7.sources.DRResults.kafka.consumer.session.timeout.ms = 30000
CDMHL7.sources.DRResults.kafka.consumer.fetch.min.bytes=1024
CDMHL7.sources.DRResults.kafka.consumer.fetch.message.max.bytes = 52428800
CDMHL7.sources.DRResults.kafka.consumer.auto.offset.reset=earliest


## CDM Flume File Channel
CDMHL7.channels = DefaultFileChannel DefaultFileChannel1 SegmentsFileChannel DRResultsFileChannel CDINLPFileChannel
CDMHL7.channels.DefaultFileChannel.type = file
CDMHL7.channels.DefaultFileChannel.capacity = 200000000
CDMHL7.channels.DefaultFileChannel.transactionCapacity = 200000
CDMHL7.channels.DefaultFileChannel.checkpointDir = /data/raid10/checkpoint/flume/cdm/DefaultFileChannel
CDMHL7.channels.DefaultFileChannel.checkpointOnClose = true
CDMHL7.channels.DefaultFileChannel.keep-alive = 30
CDMHL7.channels.DefaultFileChannel.checkpointInterval = 15000
CDMHL7.channels.DefaultFileChannel.maxFileSize=536870912
CDMHL7.channels.DefaultFileChannel.minimumRequiredSpace=268435456
CDMHL7.channels.DefaultFileChannel.dataDirs =/data/raid10/checkpoint/flume/cdm/DefaultFileChannel/data
CDMHL7.channels.DefaultFileChannel1.type = file
CDMHL7.channels.DefaultFileChannel1.capacity = 200000000
CDMHL7.channels.DefaultFileChannel1.transactionCapacity = 200000
CDMHL7.channels.DefaultFileChannel1.checkpointDir = /data/raid10/checkpoint/flume/cdm/DefaultFileChannel1
CDMHL7.channels.DefaultFileChannel1.checkpointOnClose = true
CDMHL7.channels.DefaultFileChannel1.keep-alive = 30
CDMHL7.channels.DefaultFileChannel1.checkpointInterval = 15000
CDMHL7.channels.DefaultFileChannel1.maxFileSize=536870912
CDMHL7.channels.DefaultFileChannel1.minimumRequiredSpace=268435456
CDMHL7.channels.DefaultFileChannel1.dataDirs =/data/raid10/checkpoint/flume/cdm/DefaultFileChannel1/data
CDMHL7.channels.SegmentsFileChannel.type = file
CDMHL7.channels.SegmentsFileChannel.capacity = 200000000
CDMHL7.channels.SegmentsFileChannel.transactionCapacity = 200000
CDMHL7.channels.SegmentsFileChannel.checkpointDir = /data/raid10/checkpoint/flume/cdm/HL7Segments
CDMHL7.channels.SegmentsFileChannel.checkpointOnClose = true
CDMHL7.channels.SegmentsFileChannel.keep-alive = 30
CDMHL7.channels.SegmentsFileChannel.checkpointInterval = 15000
CDMHL7.channels.SegmentsFileChannel.maxFileSize=536870912
CDMHL7.channels.SegmentsFileChannel.minimumRequiredSpace=268435456
CDMHL7.channels.SegmentsFileChannel.dataDirs =/data/raid10/checkpoint/flume/cdm/HL7Segments/data
CDMHL7.channels.DRResultsFileChannel.type = file
CDMHL7.channels.DRResultsFileChannel.capacity = 1000000
CDMHL7.channels.DRResultsFileChannel.transactionCapacity = 10000
CDMHL7.channels.DRResultsFileChannel.checkpointDir = /data/raid10/checkpoint/flume/cdm/DefaultFileChannelDRResults
CDMHL7.channels.DRResultsFileChannel.checkpointOnClose = true
CDMHL7.channels.DRResultsFileChannel.keep-alive = 30
CDMHL7.channels.DRResultsFileChannel.checkpointInterval = 15000
CDMHL7.channels.DRResultsFileChannel.maxFileSize=536870912
CDMHL7.channels.DRResultsFileChannel.minimumRequiredSpace=268435456
CDMHL7.channels.DRResultsFileChannel.dataDirs = /data/raid10/checkpoint/flume/cdm/DefaultFileChannelDRResults/data
CDMHL7.channels.CDINLPFileChannel.type = file
CDMHL7.channels.CDINLPFileChannel.capacity = 1000000
CDMHL7.channels.CDINLPFileChannel.transactionCapacity = 10000
CDMHL7.channels.CDINLPFileChannel.checkpointDir = /data/raid10/checkpoint/flume/cdm/CDINLPFileChannel
CDMHL7.channels.CDINLPFileChannel.checkpointOnClose = true
CDMHL7.channels.CDINLPFileChannel.keep-alive = 30
CDMHL7.channels.CDINLPFileChannel.checkpointInterval = 15000
CDMHL7.channels.CDINLPFileChannel.maxFileSize=536870912
CDMHL7.channels.CDINLPFileChannel.minimumRequiredSpace=268435456
CDMHL7.channels.CDINLPFileChannel.dataDirs = /data/raid10/checkpoint/flume/cdm/CDINLPFileChannel/data
## CDM Flume HDFS Sink
CDMHL7.sinks = HDFSSink HDFSSink1 SegmentsHDFSSink DRResultsHDFSSink CDINLPHDFSSink
CDMHL7.sinks.HDFSSink.channel = DefaultFileChannel
CDMHL7.sinks.HDFSSink.type = hdfs
CDMHL7.sinks.HDFSSink.hdfs.path = /user/hive/warehouse/hl7.db/dev/landing_zone=%{landingZone}/message_type=%{messageType}/transaction_date=%{transactionDate}
CDMHL7.sinks.HDFSSink.hdfs.filePrefix = HL7Data
CDMHL7.sinks.HDFSSink.hdfs.callTimeout = 30000
CDMHL7.sinks.HDFSSink.hdfs.rollSize = 268435456
CDMHL7.sinks.HDFSSink.hdfs.rollCount = 0
CDMHL7.sinks.HDFSSink.hdfs.rollInterval = 3600
CDMHL7.sinks.HDFSSink.hdfs.fileType = SequenceFile
CDMHL7.sinks.HDFSSink.hdfs.writeFormat = Text
CDMHL7.sinks.HDFSSink.hdfs.kerberosPrincipal = $KERBEROS_PRINCIPAL
CDMHL7.sinks.HDFSSink.hdfs.kerberosKeytab =
  CDMHL7.sinks.HDFSSink.hdfs.codeC = snappy
CDMHL7.sinks.HDFSSink.hdfs.retryInterval= 100
CDMHL7.sinks.HDFSSink.hdfs.threadsPoolSize = 15
CDMHL7.sinks.HDFSSink.hdfs.hdfs.rollTimerPoolSize = 5
CDMHL7.sinks.HDFSSink.hdfs.batchSize=1000
CDMHL7.sinks.HDFSSink.hdfs.proxyUser = corpsrvcdmbtch_qa
CDMHL7.sinks.HDFSSink1.channel = DefaultFileChannel1
CDMHL7.sinks.HDFSSink1.type = hdfs
CDMHL7.sinks.HDFSSink1.hdfs.path = /user/hive/warehouse/hl7.db/dev/landing_zone=%{landingZone}/message_type=%{messageType}/transaction_date=%{transactionDate}
CDMHL7.sinks.HDFSSink1.hdfs.filePrefix = HL7Data
CDMHL7.sinks.HDFSSink1.hdfs.callTimeout = 30000
CDMHL7.sinks.HDFSSink1.hdfs.rollSize = 268435456
CDMHL7.sinks.HDFSSink1.hdfs.rollCount = 0
CDMHL7.sinks.HDFSSink1.hdfs.rollInterval = 3600
CDMHL7.sinks.HDFSSink1.hdfs.fileType = SequenceFile
CDMHL7.sinks.HDFSSink1.hdfs.writeFormat = Text
CDMHL7.sinks.HDFSSink1.hdfs.kerberosPrincipal = $KERBEROS_PRINCIPAL
CDMHL7.sinks.HDFSSink1.hdfs.kerberosKeytab =
  CDMHL7.sinks.HDFSSink1.hdfs.codeC = snappy
CDMHL7.sinks.HDFSSink1.hdfs.retryInterval= 100
CDMHL7.sinks.HDFSSink1.hdfs.threadsPoolSize = 15
CDMHL7.sinks.HDFSSink1.hdfs.hdfs.rollTimerPoolSize = 5
CDMHL7.sinks.HDFSSink1.hdfs.batchSize=1000
CDMHL7.sinks.HDFSSink1.hdfs.proxyUser = corpsrvcdmbtch_qa
CDMHL7.sinks.SegmentsHDFSSink.channel = SegmentsFileChannel
CDMHL7.sinks.SegmentsHDFSSink.type = hdfs
CDMHL7.sinks.SegmentsHDFSSink.hdfs.path = /user/hive/warehouse/hl7.db/dev/landing_zone=%{landingZone}/hl7_segment=%{hl7Segment}/message_type=%{messageType}/transaction_date=%{transactionDate}
CDMHL7.sinks.SegmentsHDFSSink.hdfs.filePrefix = HL7Segments
CDMHL7.sinks.SegmentsHDFSSink.hdfs.callTimeout = 30000
CDMHL7.sinks.SegmentsHDFSSink.hdfs.rollSize = 268435456
CDMHL7.sinks.SegmentsHDFSSink.hdfs.rollCount = 0
CDMHL7.sinks.SegmentsHDFSSink.hdfs.rollInterval = 600
CDMHL7.sinks.SegmentsHDFSSink.hdfs.fileType = SequenceFile
CDMHL7.sinks.SegmentsHDFSSink.hdfs.writeFormat = Text
CDMHL7.sinks.SegmentsHDFSSink.hdfs.kerberosPrincipal = $KERBEROS_PRINCIPAL
CDMHL7.sinks.SegmentsHDFSSink.hdfs.kerberosKeytab =
  CDMHL7.sinks.SegmentsHDFSSink.hdfs.codeC = snappy
CDMHL7.sinks.SegmentsHDFSSink.hdfs.retryInterval= 100
CDMHL7.sinks.SegmentsHDFSSink.hdfs.threadsPoolSize = 15
CDMHL7.sinks.SegmentsHDFSSink.hdfs.hdfs.rollTimerPoolSize = 10
CDMHL7.sinks.SegmentsHDFSSink.hdfs.batchSize=1000
CDMHL7.sinks.SegmentsHDFSSink.hdfs.proxyUser = corpsrvcdmbtch_qa
CDMHL7.sinks.CDINLPHDFSSink.channel = CDINLPFileChannel
CDMHL7.sinks.CDINLPHDFSSink.type = hdfs
CDMHL7.sinks.CDINLPHDFSSink.hdfs.path = /user/hive/warehouse/cdm_scri/landing_zone=%{landingZone}/message_type=%{messageType}/transaction_date=%{transactionDate}
CDMHL7.sinks.CDINLPHDFSSink.hdfs.filePrefix = CDINLPData
CDMHL7.sinks.CDINLPHDFSSink.hdfs.callTimeout = 10000
CDMHL7.sinks.CDINLPHDFSSink.hdfs.rollSize = 0
CDMHL7.sinks.CDINLPHDFSSink.hdfs.rollCount = 0
CDMHL7.sinks.CDINLPHDFSSink.hdfs.rollInterval = 600
CDMHL7.sinks.CDINLPHDFSSink.hdfs.fileType = SequenceFile
CDMHL7.sinks.CDINLPHDFSSink.hdfs.writeFormat = Text
CDMHL7.sinks.CDINLPHDFSSink.hdfs.kerberosPrincipal = $KERBEROS_PRINCIPAL
CDMHL7.sinks.CDINLPHDFSSink.hdfs.kerberosKeytab =
  CDMHL7.sinks.CDINLPHDFSSink.hdfs.codeC = snappy
CDMHL7.sinks.CDINLPHDFSSink.hdfs.proxyUser = corpsrvcdmbtch_qa
CDMHL7.sinks.DRResultsHDFSSink.channel = DRResultsFileChannel
CDMHL7.sinks.DRResultsHDFSSink.type = hdfs
CDMHL7.sinks.DRResultsHDFSSink.hdfs.path = /user/hive/warehouse/cdm_scri/cdm_synthesys_patientid_results
CDMHL7.sinks.DRResultsHDFSSink.hdfs.filePrefix = DRData
CDMHL7.sinks.DRResultsHDFSSink.hdfs.callTimeout = 10000
CDMHL7.sinks.DRResultsHDFSSink.hdfs.rollSize = 0
CDMHL7.sinks.DRResultsHDFSSink.hdfs.rollCount = 0
CDMHL7.sinks.DRResultsHDFSSink.hdfs.rollInterval = 3600
CDMHL7.sinks.DRResultsHDFSSink.hdfs.fileType = SequenceFile
CDMHL7.sinks.DRResultsHDFSSink.hdfs.writeFormat = Text
CDMHL7.sinks.DRResultsHDFSSink.hdfs.kerberosPrincipal = $KERBEROS_PRINCIPAL
CDMHL7.sinks.DRResultsHDFSSink.hdfs.kerberosKeytab =
  CDMHL7.sinks.DRResultsHDFSSink.hdfs.codeC = snappy
CDMHL7.sinks.DRResultsHDFSSink.hdfs.retryInterval= 100
CDMHL7.sinks.DRResultsHDFSSink.hdfs.proxyUser = corpsrvcdmbtch_qa